{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.KeyValueStorage = void 0;\nconst tslib_1 = require(\"tslib\");\nconst safe_json_utils_1 = require(\"safe-json-utils\");\nconst localStorage_1 = tslib_1.__importDefault(require(\"./lib/localStorage\"));\nconst shared_1 = require(\"../shared\");\nclass KeyValueStorage {\n  constructor() {\n    this.localStorage = localStorage_1.default;\n  }\n  getKeys() {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return Object.keys(this.localStorage);\n    });\n  }\n  getEntries() {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return Object.entries(this.localStorage).map(shared_1.parseEntry);\n    });\n  }\n  getItem(key) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      const item = this.localStorage.getItem(key);\n      if (item === null) {\n        return undefined;\n      }\n      return safe_json_utils_1.safeJsonParse(item);\n    });\n  }\n  setItem(key, value) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.localStorage.setItem(key, safe_json_utils_1.safeJsonStringify(value));\n    });\n  }\n  removeItem(key) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.localStorage.removeItem(key);\n    });\n  }\n}\nexports.KeyValueStorage = KeyValueStorage;\nexports.default = KeyValueStorage;","map":{"version":3,"names":["safe_json_utils_1","require","localStorage_1","tslib_1","__importDefault","shared_1","KeyValueStorage","constructor","localStorage","default","getKeys","Object","keys","getEntries","entries","map","parseEntry","getItem","key","item","undefined","safeJsonParse","setItem","value","safeJsonStringify","removeItem","exports"],"sources":["../../../src/browser/index.ts"],"sourcesContent":[null],"mappings":";;;;;;;AAAA,MAAAA,iBAAA,GAAAC,OAAA;AACA,MAAAC,cAAA,GAAAC,OAAA,CAAAC,eAAA,CAAAH,OAAA;AAEA,MAAAI,QAAA,GAAAJ,OAAA;AAEA,MAAaK,eAAe;EAA5BC,YAAA;IACmB,KAAAC,YAAY,GAAYN,cAAA,CAAAO,OAAY;EA0BvD;EAxBeC,OAAOA,CAAA;;MAClB,OAAOC,MAAM,CAACC,IAAI,CAAC,IAAI,CAACJ,YAAY,CAAC;IACvC,CAAC;;EAEYK,UAAUA,CAAA;;MACrB,OAAOF,MAAM,CAACG,OAAO,CAAC,IAAI,CAACN,YAAY,CAAC,CAACO,GAAG,CAACV,QAAA,CAAAW,UAAU,CAAC;IAC1D,CAAC;;EAEYC,OAAOA,CAAUC,GAAW;;MACvC,MAAMC,IAAI,GAAG,IAAI,CAACX,YAAY,CAACS,OAAO,CAACC,GAAG,CAAC;MAC3C,IAAIC,IAAI,KAAK,IAAI,EAAE;QACjB,OAAOC,SAAS;;MAGlB,OAAOpB,iBAAA,CAAAqB,aAAa,CAACF,IAAI,CAAM;IACjC,CAAC;;EAEYG,OAAOA,CAAUJ,GAAW,EAAEK,KAAQ;;MACjD,IAAI,CAACf,YAAY,CAACc,OAAO,CAACJ,GAAG,EAAElB,iBAAA,CAAAwB,iBAAiB,CAACD,KAAK,CAAC,CAAC;IAC1D,CAAC;;EAEYE,UAAUA,CAACP,GAAW;;MACjC,IAAI,CAACV,YAAY,CAACiB,UAAU,CAACP,GAAG,CAAC;IACnC,CAAC;;;AA1BHQ,OAAA,CAAApB,eAAA,GAAAA,eAAA;AA6BAoB,OAAA,CAAAjB,OAAA,GAAeH,eAAe"},"metadata":{},"sourceType":"script","externalDependencies":[]}