{"ast":null,"code":"import _regeneratorRuntime from \"/Users/wuhuan/gif-portal-starter/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/wuhuan/gif-portal-starter/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"/Users/wuhuan/gif-portal-starter/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/Users/wuhuan/gif-portal-starter/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"/Users/wuhuan/gif-portal-starter/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"children\", \"labels\"];\nimport { useWalletMultiButton } from '@solana/wallet-adapter-base-ui';\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { BaseWalletConnectionButton } from './BaseWalletConnectionButton.js';\nimport { useWalletModal } from './useWalletModal.js';\nexport function BaseWalletMultiButton(_ref) {\n  var children = _ref.children,\n    labels = _ref.labels,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var _useWalletModal = useWalletModal(),\n    setModalVisible = _useWalletModal.setVisible;\n  var _useWalletMultiButton = useWalletMultiButton({\n      onSelectWallet: function onSelectWallet() {\n        setModalVisible(true);\n      }\n    }),\n    buttonState = _useWalletMultiButton.buttonState,\n    onConnect = _useWalletMultiButton.onConnect,\n    onDisconnect = _useWalletMultiButton.onDisconnect,\n    publicKey = _useWalletMultiButton.publicKey,\n    walletIcon = _useWalletMultiButton.walletIcon,\n    walletName = _useWalletMultiButton.walletName;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    copied = _useState2[0],\n    setCopied = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    menuOpen = _useState4[0],\n    setMenuOpen = _useState4[1];\n  var ref = useRef(null);\n  useEffect(function () {\n    var listener = function listener(event) {\n      var node = ref.current;\n      // Do nothing if clicking dropdown or its descendants\n      if (!node || node.contains(event.target)) return;\n      setMenuOpen(false);\n    };\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n    return function () {\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, []);\n  var content = useMemo(function () {\n    if (children) {\n      return children;\n    } else if (publicKey) {\n      var base58 = publicKey.toBase58();\n      return base58.slice(0, 4) + '..' + base58.slice(-4);\n    } else if (buttonState === 'connecting' || buttonState === 'has-wallet') {\n      return labels[buttonState];\n    } else {\n      return labels['no-wallet'];\n    }\n  }, [buttonState, children, labels, publicKey]);\n  return React.createElement(\"div\", {\n    className: \"wallet-adapter-dropdown\"\n  }, React.createElement(BaseWalletConnectionButton, _objectSpread(_objectSpread({}, props), {}, {\n    \"aria-expanded\": menuOpen,\n    style: _objectSpread({\n      pointerEvents: menuOpen ? 'none' : 'auto'\n    }, props.style),\n    onClick: function onClick() {\n      switch (buttonState) {\n        case 'no-wallet':\n          setModalVisible(true);\n          break;\n        case 'has-wallet':\n          if (onConnect) {\n            onConnect();\n          }\n          break;\n        case 'connected':\n          setMenuOpen(true);\n          break;\n      }\n    },\n    walletIcon: walletIcon,\n    walletName: walletName\n  }), content), React.createElement(\"ul\", {\n    \"aria-label\": \"dropdown-list\",\n    className: \"wallet-adapter-dropdown-list \".concat(menuOpen && 'wallet-adapter-dropdown-list-active'),\n    ref: ref,\n    role: \"menu\"\n  }, publicKey ? React.createElement(\"li\", {\n    className: \"wallet-adapter-dropdown-list-item\",\n    onClick: function () {\n      var _onClick = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return navigator.clipboard.writeText(publicKey.toBase58());\n            case 2:\n              setCopied(true);\n              setTimeout(function () {\n                return setCopied(false);\n              }, 400);\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n      function onClick() {\n        return _onClick.apply(this, arguments);\n      }\n      return onClick;\n    }(),\n    role: \"menuitem\"\n  }, copied ? labels['copied'] : labels['copy-address']) : null, React.createElement(\"li\", {\n    className: \"wallet-adapter-dropdown-list-item\",\n    onClick: function onClick() {\n      setModalVisible(true);\n      setMenuOpen(false);\n    },\n    role: \"menuitem\"\n  }, labels['change-wallet']), onDisconnect ? React.createElement(\"li\", {\n    className: \"wallet-adapter-dropdown-list-item\",\n    onClick: function onClick() {\n      onDisconnect();\n      setMenuOpen(false);\n    },\n    role: \"menuitem\"\n  }, labels['disconnect']) : null));\n}","map":{"version":3,"names":["useWalletMultiButton","React","useEffect","useMemo","useRef","useState","BaseWalletConnectionButton","useWalletModal","BaseWalletMultiButton","_ref","children","labels","props","_objectWithoutProperties","_excluded","_useWalletModal","setModalVisible","setVisible","_useWalletMultiButton","onSelectWallet","buttonState","onConnect","onDisconnect","publicKey","walletIcon","walletName","_useState","_useState2","_slicedToArray","copied","setCopied","_useState3","_useState4","menuOpen","setMenuOpen","ref","listener","event","node","current","contains","target","document","addEventListener","removeEventListener","content","base58","toBase58","slice","createElement","className","_objectSpread","style","pointerEvents","onClick","concat","role","_onClick","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","navigator","clipboard","writeText","setTimeout","stop","apply","arguments"],"sources":["/Users/wuhuan/gif-portal-starter/node_modules/@solana/wallet-adapter-react-ui/src/BaseWalletMultiButton.tsx"],"sourcesContent":["import { useWalletMultiButton } from '@solana/wallet-adapter-base-ui';\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { BaseWalletConnectionButton } from './BaseWalletConnectionButton.js';\nimport type { ButtonProps } from './Button.js';\nimport { useWalletModal } from './useWalletModal.js';\n\ntype Props = ButtonProps & {\n    labels: Omit<\n        { [TButtonState in ReturnType<typeof useWalletMultiButton>['buttonState']]: string },\n        'connected' | 'disconnecting'\n    > & {\n        'copy-address': string;\n        copied: string;\n        'change-wallet': string;\n        disconnect: string;\n    };\n};\n\nexport function BaseWalletMultiButton({ children, labels, ...props }: Props) {\n    const { setVisible: setModalVisible } = useWalletModal();\n    const { buttonState, onConnect, onDisconnect, publicKey, walletIcon, walletName } = useWalletMultiButton({\n        onSelectWallet() {\n            setModalVisible(true);\n        },\n    });\n    const [copied, setCopied] = useState(false);\n    const [menuOpen, setMenuOpen] = useState(false);\n    const ref = useRef<HTMLUListElement>(null);\n    useEffect(() => {\n        const listener = (event: MouseEvent | TouchEvent) => {\n            const node = ref.current;\n\n            // Do nothing if clicking dropdown or its descendants\n            if (!node || node.contains(event.target as Node)) return;\n\n            setMenuOpen(false);\n        };\n\n        document.addEventListener('mousedown', listener);\n        document.addEventListener('touchstart', listener);\n\n        return () => {\n            document.removeEventListener('mousedown', listener);\n            document.removeEventListener('touchstart', listener);\n        };\n    }, []);\n    const content = useMemo(() => {\n        if (children) {\n            return children;\n        } else if (publicKey) {\n            const base58 = publicKey.toBase58();\n            return base58.slice(0, 4) + '..' + base58.slice(-4);\n        } else if (buttonState === 'connecting' || buttonState === 'has-wallet') {\n            return labels[buttonState];\n        } else {\n            return labels['no-wallet'];\n        }\n    }, [buttonState, children, labels, publicKey]);\n    return (\n        <div className=\"wallet-adapter-dropdown\">\n            <BaseWalletConnectionButton\n                {...props}\n                aria-expanded={menuOpen}\n                style={{ pointerEvents: menuOpen ? 'none' : 'auto', ...props.style }}\n                onClick={() => {\n                    switch (buttonState) {\n                        case 'no-wallet':\n                            setModalVisible(true);\n                            break;\n                        case 'has-wallet':\n                            if (onConnect) {\n                                onConnect();\n                            }\n                            break;\n                        case 'connected':\n                            setMenuOpen(true);\n                            break;\n                    }\n                }}\n                walletIcon={walletIcon}\n                walletName={walletName}\n            >\n                {content}\n            </BaseWalletConnectionButton>\n            <ul\n                aria-label=\"dropdown-list\"\n                className={`wallet-adapter-dropdown-list ${menuOpen && 'wallet-adapter-dropdown-list-active'}`}\n                ref={ref}\n                role=\"menu\"\n            >\n                {publicKey ? (\n                    <li\n                        className=\"wallet-adapter-dropdown-list-item\"\n                        onClick={async () => {\n                            await navigator.clipboard.writeText(publicKey.toBase58());\n                            setCopied(true);\n                            setTimeout(() => setCopied(false), 400);\n                        }}\n                        role=\"menuitem\"\n                    >\n                        {copied ? labels['copied'] : labels['copy-address']}\n                    </li>\n                ) : null}\n                <li\n                    className=\"wallet-adapter-dropdown-list-item\"\n                    onClick={() => {\n                        setModalVisible(true);\n                        setMenuOpen(false);\n                    }}\n                    role=\"menuitem\"\n                >\n                    {labels['change-wallet']}\n                </li>\n                {onDisconnect ? (\n                    <li\n                        className=\"wallet-adapter-dropdown-list-item\"\n                        onClick={() => {\n                            onDisconnect();\n                            setMenuOpen(false);\n                        }}\n                        role=\"menuitem\"\n                    >\n                        {labels['disconnect']}\n                    </li>\n                ) : null}\n            </ul>\n        </div>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}