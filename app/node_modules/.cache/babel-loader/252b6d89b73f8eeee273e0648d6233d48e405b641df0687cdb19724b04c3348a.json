{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/wuhuan/gif-portal-starter/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\nvar _asyncToGenerator = require(\"/Users/wuhuan/gif-portal-starter/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nvar _classCallCheck = require(\"/Users/wuhuan/gif-portal-starter/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/wuhuan/gif-portal-starter/node_modules/@babel/runtime/helpers/createClass.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar buffer_1 = require(\"buffer\");\nvar web3_js_1 = require(\"@solana/web3.js\");\n/**\n * Node only wallet.\n */\nvar NodeWallet = /*#__PURE__*/function () {\n  function NodeWallet(payer) {\n    _classCallCheck(this, NodeWallet);\n    this.payer = payer;\n  }\n  _createClass(NodeWallet, [{\n    key: \"signTransaction\",\n    value: function () {\n      var _signTransaction = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(tx) {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              tx.partialSign(this.payer);\n              return _context.abrupt(\"return\", tx);\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function signTransaction(_x) {\n        return _signTransaction.apply(this, arguments);\n      }\n      return signTransaction;\n    }()\n  }, {\n    key: \"signAllTransactions\",\n    value: function () {\n      var _signAllTransactions = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(txs) {\n        var _this = this;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              return _context2.abrupt(\"return\", txs.map(function (t) {\n                t.partialSign(_this.payer);\n                return t;\n              }));\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }));\n      function signAllTransactions(_x2) {\n        return _signAllTransactions.apply(this, arguments);\n      }\n      return signAllTransactions;\n    }()\n  }, {\n    key: \"publicKey\",\n    get: function get() {\n      return this.payer.publicKey;\n    }\n  }], [{\n    key: \"local\",\n    value: function local() {\n      var process = require(\"process\");\n      var payer = web3_js_1.Keypair.fromSecretKey(buffer_1.Buffer.from(JSON.parse(require(\"fs\").readFileSync(process.env.ANCHOR_WALLET, {\n        encoding: \"utf-8\"\n      }))));\n      return new NodeWallet(payer);\n    }\n  }]);\n  return NodeWallet;\n}();\nexports.default = NodeWallet;","map":{"version":3,"names":["buffer_1","require","web3_js_1","NodeWallet","payer","_classCallCheck","_createClass","key","value","_signTransaction","_asyncToGenerator","_regeneratorRuntime","mark","_callee","tx","wrap","_callee$","_context","prev","next","partialSign","abrupt","stop","signTransaction","_x","apply","arguments","_signAllTransactions","_callee2","txs","_this","_callee2$","_context2","map","t","signAllTransactions","_x2","get","publicKey","local","process","Keypair","fromSecretKey","Buffer","from","JSON","parse","readFileSync","env","ANCHOR_WALLET","encoding","exports","default"],"sources":["/Users/wuhuan/gif-portal-starter/node_modules/@project-serum/anchor/src/nodewallet.ts"],"sourcesContent":["import { Buffer } from \"buffer\";\nimport { Keypair, PublicKey, Transaction } from \"@solana/web3.js\";\nimport { Wallet } from \"./provider\";\n\n/**\n * Node only wallet.\n */\nexport default class NodeWallet implements Wallet {\n  constructor(readonly payer: Keypair) {}\n\n  static local(): NodeWallet {\n    const process = require(\"process\");\n    const payer = Keypair.fromSecretKey(\n      Buffer.from(\n        JSON.parse(\n          require(\"fs\").readFileSync(process.env.ANCHOR_WALLET, {\n            encoding: \"utf-8\",\n          })\n        )\n      )\n    );\n    return new NodeWallet(payer);\n  }\n\n  async signTransaction(tx: Transaction): Promise<Transaction> {\n    tx.partialSign(this.payer);\n    return tx;\n  }\n\n  async signAllTransactions(txs: Transaction[]): Promise<Transaction[]> {\n    return txs.map((t) => {\n      t.partialSign(this.payer);\n      return t;\n    });\n  }\n\n  get publicKey(): PublicKey {\n    return this.payer.publicKey;\n  }\n}\n"],"mappings":";;;;;;;;;AAAA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,SAAA,GAAAD,OAAA;AAGA;;;AAAA,IAGqBE,UAAU;EAC7B,SAAAA,WAAqBC,KAAc;IAAAC,eAAA,OAAAF,UAAA;IAAd,KAAAC,KAAK,GAALA,KAAK;EAAY;EAACE,YAAA,CAAAH,UAAA;IAAAI,GAAA;IAAAC,KAAA;MAAA,IAAAC,gBAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAgBvC,SAAAC,QAAsBC,EAAe;QAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACnCL,EAAE,CAACM,WAAW,CAAC,IAAI,CAAChB,KAAK,CAAC;cAAC,OAAAa,QAAA,CAAAI,MAAA,WACpBP,EAAE;YAAA;YAAA;cAAA,OAAAG,QAAA,CAAAK,IAAA;UAAA;QAAA,GAAAT,OAAA;MAAA,CACV;MAAA,SAAAU,gBAAAC,EAAA;QAAA,OAAAf,gBAAA,CAAAgB,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAAH,eAAA;IAAA;EAAA;IAAAhB,GAAA;IAAAC,KAAA;MAAA,IAAAmB,oBAAA,GAAAjB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAED,SAAAgB,SAA0BC,GAAkB;QAAA,IAAAC,KAAA;QAAA,OAAAnB,mBAAA,GAAAI,IAAA,UAAAgB,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAd,IAAA,GAAAc,SAAA,CAAAb,IAAA;YAAA;cAAA,OAAAa,SAAA,CAAAX,MAAA,WACnCQ,GAAG,CAACI,GAAG,CAAC,UAACC,CAAC,EAAI;gBACnBA,CAAC,CAACd,WAAW,CAACU,KAAI,CAAC1B,KAAK,CAAC;gBACzB,OAAO8B,CAAC;cACV,CAAC,CAAC;YAAA;YAAA;cAAA,OAAAF,SAAA,CAAAV,IAAA;UAAA;QAAA,GAAAM,QAAA;MAAA,CACH;MAAA,SAAAO,oBAAAC,GAAA;QAAA,OAAAT,oBAAA,CAAAF,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAAS,mBAAA;IAAA;EAAA;IAAA5B,GAAA;IAAA8B,GAAA,EAED,SAAAA,IAAA,EAAa;MACX,OAAO,IAAI,CAACjC,KAAK,CAACkC,SAAS;IAC7B;EAAC;IAAA/B,GAAA;IAAAC,KAAA,EA5BD,SAAA+B,MAAA,EAAY;MACV,IAAMC,OAAO,GAAGvC,OAAO,CAAC,SAAS,CAAC;MAClC,IAAMG,KAAK,GAAGF,SAAA,CAAAuC,OAAO,CAACC,aAAa,CACjC1C,QAAA,CAAA2C,MAAM,CAACC,IAAI,CACTC,IAAI,CAACC,KAAK,CACR7C,OAAO,CAAC,IAAI,CAAC,CAAC8C,YAAY,CAACP,OAAO,CAACQ,GAAG,CAACC,aAAa,EAAE;QACpDC,QAAQ,EAAE;OACX,CAAC,CACH,CACF,CACF;MACD,OAAO,IAAI/C,UAAU,CAACC,KAAK,CAAC;IAC9B;EAAC;EAAA,OAAAD,UAAA;AAAA;AAfHgD,OAAA,CAAAC,OAAA,GAAAjD,UAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}