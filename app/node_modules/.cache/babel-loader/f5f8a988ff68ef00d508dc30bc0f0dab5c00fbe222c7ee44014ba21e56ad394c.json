{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.splitArgsAndCtx = void 0;\nfunction splitArgsAndCtx(idlIx, args) {\n  var _a, _b;\n  var options = {};\n  var inputLen = idlIx.args ? idlIx.args.length : 0;\n  if (args.length > inputLen) {\n    if (args.length !== inputLen + 1) {\n      throw new Error(\"provided too many arguments \".concat(args, \" to instruction \").concat(idlIx === null || idlIx === void 0 ? void 0 : idlIx.name, \" expecting: \").concat((_b = (_a = idlIx.args) === null || _a === void 0 ? void 0 : _a.map(function (a) {\n        return a.name;\n      })) !== null && _b !== void 0 ? _b : []));\n    }\n    options = args.pop();\n  }\n  return [args, options];\n}\nexports.splitArgsAndCtx = splitArgsAndCtx;","map":{"version":3,"names":["splitArgsAndCtx","idlIx","args","options","inputLen","length","Error","concat","name","_b","_a","map","a","pop","exports"],"sources":["/Users/wuhuan/gif-portal-starter/node_modules/@project-serum/anchor/src/program/context.ts"],"sourcesContent":["import {\n  AccountMeta,\n  Signer,\n  ConfirmOptions,\n  TransactionInstruction,\n} from \"@solana/web3.js\";\nimport { Address } from \"./common.js\";\nimport { IdlAccountItem, IdlAccounts, IdlInstruction } from \"../idl.js\";\n\n/**\n * Context provides all non-argument inputs for generating Anchor transactions.\n */\nexport type Context<A extends Accounts = Accounts> = {\n  /**\n   * Accounts used in the instruction context.\n   */\n  accounts?: A;\n\n  /**\n   * All accounts to pass into an instruction *after* the main `accounts`.\n   * This can be used for optional or otherwise unknown accounts.\n   */\n  remainingAccounts?: AccountMeta[];\n\n  /**\n   * Accounts that must sign a given transaction.\n   */\n  signers?: Array<Signer>;\n\n  /**\n   * @deprecated use preInstructions instead.\n   * Instructions to run *before* a given method. Often this is used, for\n   * example to create accounts prior to executing a method.\n   */\n  instructions?: TransactionInstruction[];\n\n  /**\n   * Instructions to run *before* a given method. Often this is used, for\n   * example to create accounts prior to executing a method.\n   */\n  preInstructions?: TransactionInstruction[];\n\n  /**\n   * Instructions to run *after* a given method. Often this is used, for\n   * example to close accounts after executing a method.\n   */\n  postInstructions?: TransactionInstruction[];\n\n  /**\n   * Commitment parameters to use for a transaction.\n   */\n  options?: ConfirmOptions;\n};\n\n/**\n * A set of accounts mapping one-to-one to the program's accounts struct, i.e.,\n * the type deriving `#[derive(Accounts)]`.\n *\n * The name of each field should match the name for that account in the IDL.\n *\n * If multiple accounts are nested in the rust program, then they should be\n * nested here.\n */\nexport type Accounts<A extends IdlAccountItem = IdlAccountItem> = {\n  [N in A[\"name\"]]: Account<A & { name: N }>;\n};\n\ntype Account<A extends IdlAccountItem> = A extends IdlAccounts\n  ? Accounts<A[\"accounts\"][number]>\n  : Address;\n\nexport function splitArgsAndCtx(\n  idlIx: IdlInstruction,\n  args: any[]\n): [any[], Context] {\n  let options = {};\n\n  const inputLen = idlIx.args ? idlIx.args.length : 0;\n  if (args.length > inputLen) {\n    if (args.length !== inputLen + 1) {\n      throw new Error(\n        `provided too many arguments ${args} to instruction ${\n          idlIx?.name\n        } expecting: ${idlIx.args?.map((a) => a.name) ?? []}`\n      );\n    }\n    options = args.pop();\n  }\n\n  return [args, options];\n}\n"],"mappings":";;;;;;AAuEA,SAAgBA,eAAeA,CAC7BC,KAAqB,EACrBC,IAAW;;EAEX,IAAIC,OAAO,GAAG,EAAE;EAEhB,IAAMC,QAAQ,GAAGH,KAAK,CAACC,IAAI,GAAGD,KAAK,CAACC,IAAI,CAACG,MAAM,GAAG,CAAC;EACnD,IAAIH,IAAI,CAACG,MAAM,GAAGD,QAAQ,EAAE;IAC1B,IAAIF,IAAI,CAACG,MAAM,KAAKD,QAAQ,GAAG,CAAC,EAAE;MAChC,MAAM,IAAIE,KAAK,gCAAAC,MAAA,CACkBL,IAAI,sBAAAK,MAAA,CACjCN,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEO,IACT,kBAAAD,MAAA,CAAe,CAAAE,EAAA,IAAAC,EAAA,GAAAT,KAAK,CAACC,IAAI,cAAAQ,EAAA,uBAAAA,EAAA,CAAEC,GAAG,CAAC,UAACC,CAAC;QAAA,OAAKA,CAAC,CAACJ,IAAI;MAAA,EAAC,cAAAC,EAAA,cAAAA,EAAA,GAAI,EAAE,CAAE,CACtD;;IAEHN,OAAO,GAAGD,IAAI,CAACW,GAAG,EAAE;;EAGtB,OAAO,CAACX,IAAI,EAAEC,OAAO,CAAC;AACxB;AAnBAW,OAAA,CAAAd,eAAA,GAAAA,eAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}