{"ast":null,"code":"import { are3PCSupported } from './util';\nexport function fillOptionsWithDefaults() {\n  var originalOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = JSON.parse(JSON.stringify(originalOptions));\n  if (typeof options.support3PC === 'undefined') options.support3PC = are3PCSupported();\n\n  // main\n  if (typeof options.webWorkerSupport === 'undefined') options.webWorkerSupport = true;\n\n  // indexed-db\n  if (!options.idb) options.idb = {};\n  //  after this time the messages get deleted\n  if (!options.idb.ttl) options.idb.ttl = 1000 * 45;\n  if (!options.idb.fallbackInterval) options.idb.fallbackInterval = 150;\n  //  handles abrupt db onclose events.\n  if (originalOptions.idb && typeof originalOptions.idb.onclose === 'function') options.idb.onclose = originalOptions.idb.onclose;\n\n  // localstorage\n  if (!options.localstorage) options.localstorage = {};\n  if (!options.localstorage.removeTimeout) options.localstorage.removeTimeout = 1000 * 60;\n\n  // server\n  if (!options.server) options.server = {};\n  if (!options.server.url) options.server.url = 'https://broadcast-server.tor.us';\n  if (!options.server.removeTimeout) options.server.removeTimeout = 1000 * 60 * 5; // 5 minutes\n\n  // custom methods\n  if (originalOptions.methods) options.methods = originalOptions.methods;\n  return options;\n}","map":{"version":3,"names":["are3PCSupported","fillOptionsWithDefaults","originalOptions","arguments","length","undefined","options","JSON","parse","stringify","support3PC","webWorkerSupport","idb","ttl","fallbackInterval","onclose","localstorage","removeTimeout","server","url","methods"],"sources":["/Users/wuhuan/gif-portal-starter/node_modules/@toruslabs/broadcast-channel/dist/esbrowser/options.js"],"sourcesContent":["import { are3PCSupported } from './util';\nexport function fillOptionsWithDefaults() {\n  var originalOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = JSON.parse(JSON.stringify(originalOptions));\n  if (typeof options.support3PC === 'undefined') options.support3PC = are3PCSupported();\n\n  // main\n  if (typeof options.webWorkerSupport === 'undefined') options.webWorkerSupport = true;\n\n  // indexed-db\n  if (!options.idb) options.idb = {};\n  //  after this time the messages get deleted\n  if (!options.idb.ttl) options.idb.ttl = 1000 * 45;\n  if (!options.idb.fallbackInterval) options.idb.fallbackInterval = 150;\n  //  handles abrupt db onclose events.\n  if (originalOptions.idb && typeof originalOptions.idb.onclose === 'function') options.idb.onclose = originalOptions.idb.onclose;\n\n  // localstorage\n  if (!options.localstorage) options.localstorage = {};\n  if (!options.localstorage.removeTimeout) options.localstorage.removeTimeout = 1000 * 60;\n\n  // server\n  if (!options.server) options.server = {};\n  if (!options.server.url) options.server.url = 'https://broadcast-server.tor.us';\n  if (!options.server.removeTimeout) options.server.removeTimeout = 1000 * 60 * 5; // 5 minutes\n\n  // custom methods\n  if (originalOptions.methods) options.methods = originalOptions.methods;\n  return options;\n}"],"mappings":"AAAA,SAASA,eAAe,QAAQ,QAAQ;AACxC,OAAO,SAASC,uBAAuBA,CAAA,EAAG;EACxC,IAAIC,eAAe,GAAGC,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAKE,SAAS,GAAGF,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;EAC5F,IAAIG,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACP,eAAe,CAAC,CAAC;EACzD,IAAI,OAAOI,OAAO,CAACI,UAAU,KAAK,WAAW,EAAEJ,OAAO,CAACI,UAAU,GAAGV,eAAe,CAAC,CAAC;;EAErF;EACA,IAAI,OAAOM,OAAO,CAACK,gBAAgB,KAAK,WAAW,EAAEL,OAAO,CAACK,gBAAgB,GAAG,IAAI;;EAEpF;EACA,IAAI,CAACL,OAAO,CAACM,GAAG,EAAEN,OAAO,CAACM,GAAG,GAAG,CAAC,CAAC;EAClC;EACA,IAAI,CAACN,OAAO,CAACM,GAAG,CAACC,GAAG,EAAEP,OAAO,CAACM,GAAG,CAACC,GAAG,GAAG,IAAI,GAAG,EAAE;EACjD,IAAI,CAACP,OAAO,CAACM,GAAG,CAACE,gBAAgB,EAAER,OAAO,CAACM,GAAG,CAACE,gBAAgB,GAAG,GAAG;EACrE;EACA,IAAIZ,eAAe,CAACU,GAAG,IAAI,OAAOV,eAAe,CAACU,GAAG,CAACG,OAAO,KAAK,UAAU,EAAET,OAAO,CAACM,GAAG,CAACG,OAAO,GAAGb,eAAe,CAACU,GAAG,CAACG,OAAO;;EAE/H;EACA,IAAI,CAACT,OAAO,CAACU,YAAY,EAAEV,OAAO,CAACU,YAAY,GAAG,CAAC,CAAC;EACpD,IAAI,CAACV,OAAO,CAACU,YAAY,CAACC,aAAa,EAAEX,OAAO,CAACU,YAAY,CAACC,aAAa,GAAG,IAAI,GAAG,EAAE;;EAEvF;EACA,IAAI,CAACX,OAAO,CAACY,MAAM,EAAEZ,OAAO,CAACY,MAAM,GAAG,CAAC,CAAC;EACxC,IAAI,CAACZ,OAAO,CAACY,MAAM,CAACC,GAAG,EAAEb,OAAO,CAACY,MAAM,CAACC,GAAG,GAAG,iCAAiC;EAC/E,IAAI,CAACb,OAAO,CAACY,MAAM,CAACD,aAAa,EAAEX,OAAO,CAACY,MAAM,CAACD,aAAa,GAAG,IAAI,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;;EAEjF;EACA,IAAIf,eAAe,CAACkB,OAAO,EAAEd,OAAO,CAACc,OAAO,GAAGlB,eAAe,CAACkB,OAAO;EACtE,OAAOd,OAAO;AAChB"},"metadata":{},"sourceType":"module","externalDependencies":[]}