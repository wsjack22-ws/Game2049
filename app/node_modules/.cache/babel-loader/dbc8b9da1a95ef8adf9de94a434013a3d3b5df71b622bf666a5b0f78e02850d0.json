{"ast":null,"code":"import _classCallCheck from \"/Users/wuhuan/gif-portal-starter/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/wuhuan/gif-portal-starter/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/Users/wuhuan/gif-portal-starter/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/Users/wuhuan/gif-portal-starter/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/wuhuan/gif-portal-starter/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _wrapNativeSuper from \"/Users/wuhuan/gif-portal-starter/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js\";\nvar __classPrivateFieldSet = this && this.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet = this && this.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _RegisterWalletEvent_detail;\n/**\n * Register a {@link \"@wallet-standard/base\".Wallet} as a Standard Wallet with the app.\n *\n * This dispatches a {@link \"@wallet-standard/base\".WindowRegisterWalletEvent} to notify the app that the Wallet is\n * ready to be registered.\n *\n * This also adds a listener for {@link \"@wallet-standard/base\".WindowAppReadyEvent} to listen for a notification from\n * the app that the app is ready to register the Wallet.\n *\n * This combination of event dispatch and listener guarantees that the Wallet will be registered synchronously as soon\n * as the app is ready whether the Wallet loads before or after the app.\n *\n * @param wallet Wallet to register.\n *\n * @group Wallet\n */\nexport function registerWallet(wallet) {\n  var callback = function callback(_ref) {\n    var register = _ref.register;\n    return register(wallet);\n  };\n  try {\n    window.dispatchEvent(new RegisterWalletEvent(callback));\n  } catch (error) {\n    console.error('wallet-standard:register-wallet event could not be dispatched\\n', error);\n  }\n  try {\n    window.addEventListener('wallet-standard:app-ready', function (_ref2) {\n      var api = _ref2.detail;\n      return callback(api);\n    });\n  } catch (error) {\n    console.error('wallet-standard:app-ready event listener could not be added\\n', error);\n  }\n}\nvar RegisterWalletEvent = /*#__PURE__*/function (_Event) {\n  _inherits(RegisterWalletEvent, _Event);\n  var _super = _createSuper(RegisterWalletEvent);\n  function RegisterWalletEvent(callback) {\n    var _this;\n    _classCallCheck(this, RegisterWalletEvent);\n    _this = _super.call(this, 'wallet-standard:register-wallet', {\n      bubbles: false,\n      cancelable: false,\n      composed: false\n    });\n    _RegisterWalletEvent_detail.set(_assertThisInitialized(_this), void 0);\n    __classPrivateFieldSet(_assertThisInitialized(_this), _RegisterWalletEvent_detail, callback, \"f\");\n    return _this;\n  }\n  _createClass(RegisterWalletEvent, [{\n    key: \"detail\",\n    get: function get() {\n      return __classPrivateFieldGet(this, _RegisterWalletEvent_detail, \"f\");\n    }\n  }, {\n    key: \"type\",\n    get: function get() {\n      return 'wallet-standard:register-wallet';\n    }\n    /** @deprecated */\n  }, {\n    key: \"preventDefault\",\n    value: function preventDefault() {\n      throw new Error('preventDefault cannot be called');\n    }\n    /** @deprecated */\n  }, {\n    key: \"stopImmediatePropagation\",\n    value: function stopImmediatePropagation() {\n      throw new Error('stopImmediatePropagation cannot be called');\n    }\n    /** @deprecated */\n  }, {\n    key: \"stopPropagation\",\n    value: function stopPropagation() {\n      throw new Error('stopPropagation cannot be called');\n    }\n  }]);\n  return RegisterWalletEvent;\n}( /*#__PURE__*/_wrapNativeSuper(Event));\n_RegisterWalletEvent_detail = new WeakMap();\n/**\n * @deprecated Use {@link registerWallet} instead.\n *\n * @group Deprecated\n */\nexport function DEPRECATED_registerWallet(wallet) {\n  var _a;\n  registerWallet(wallet);\n  try {\n    ((_a = window.navigator).wallets || (_a.wallets = [])).push(function (_ref3) {\n      var register = _ref3.register;\n      return register(wallet);\n    });\n  } catch (error) {\n    console.error('window.navigator.wallets could not be pushed\\n', error);\n  }\n}","map":{"version":3,"names":["registerWallet","wallet","callback","_ref","register","window","dispatchEvent","RegisterWalletEvent","error","console","addEventListener","_ref2","api","detail","_Event","_inherits","_super","_createSuper","_this","_classCallCheck","call","bubbles","cancelable","composed","_RegisterWalletEvent_detail","set","_assertThisInitialized","__classPrivateFieldSet","_createClass","key","get","__classPrivateFieldGet","value","preventDefault","Error","stopImmediatePropagation","stopPropagation","_wrapNativeSuper","Event","DEPRECATED_registerWallet","_a","navigator","wallets","push","_ref3"],"sources":["/Users/wuhuan/gif-portal-starter/node_modules/@wallet-standard/wallet/src/register.ts"],"sourcesContent":["import type {\n    DEPRECATED_WalletsWindow,\n    Wallet,\n    WalletEventsWindow,\n    WindowRegisterWalletEvent,\n    WindowRegisterWalletEventCallback,\n} from '@wallet-standard/base';\n\n/**\n * Register a {@link \"@wallet-standard/base\".Wallet} as a Standard Wallet with the app.\n *\n * This dispatches a {@link \"@wallet-standard/base\".WindowRegisterWalletEvent} to notify the app that the Wallet is\n * ready to be registered.\n *\n * This also adds a listener for {@link \"@wallet-standard/base\".WindowAppReadyEvent} to listen for a notification from\n * the app that the app is ready to register the Wallet.\n *\n * This combination of event dispatch and listener guarantees that the Wallet will be registered synchronously as soon\n * as the app is ready whether the Wallet loads before or after the app.\n *\n * @param wallet Wallet to register.\n *\n * @group Wallet\n */\nexport function registerWallet(wallet: Wallet): void {\n    const callback: WindowRegisterWalletEventCallback = ({ register }) => register(wallet);\n    try {\n        (window as WalletEventsWindow).dispatchEvent(new RegisterWalletEvent(callback));\n    } catch (error) {\n        console.error('wallet-standard:register-wallet event could not be dispatched\\n', error);\n    }\n    try {\n        (window as WalletEventsWindow).addEventListener('wallet-standard:app-ready', ({ detail: api }) =>\n            callback(api)\n        );\n    } catch (error) {\n        console.error('wallet-standard:app-ready event listener could not be added\\n', error);\n    }\n}\n\nclass RegisterWalletEvent extends Event implements WindowRegisterWalletEvent {\n    readonly #detail: WindowRegisterWalletEventCallback;\n\n    get detail() {\n        return this.#detail;\n    }\n\n    get type() {\n        return 'wallet-standard:register-wallet' as const;\n    }\n\n    constructor(callback: WindowRegisterWalletEventCallback) {\n        super('wallet-standard:register-wallet', {\n            bubbles: false,\n            cancelable: false,\n            composed: false,\n        });\n        this.#detail = callback;\n    }\n\n    /** @deprecated */\n    preventDefault(): never {\n        throw new Error('preventDefault cannot be called');\n    }\n\n    /** @deprecated */\n    stopImmediatePropagation(): never {\n        throw new Error('stopImmediatePropagation cannot be called');\n    }\n\n    /** @deprecated */\n    stopPropagation(): never {\n        throw new Error('stopPropagation cannot be called');\n    }\n}\n\n/**\n * @deprecated Use {@link registerWallet} instead.\n *\n * @group Deprecated\n */\nexport function DEPRECATED_registerWallet(wallet: Wallet): void {\n    registerWallet(wallet);\n    try {\n        ((window as DEPRECATED_WalletsWindow).navigator.wallets ||= []).push(({ register }) => register(wallet));\n    } catch (error) {\n        console.error('window.navigator.wallets could not be pushed\\n', error);\n    }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;AAQA;;;;;;;;;;;;;;;;AAgBA,OAAM,SAAUA,cAAcA,CAACC,MAAc;EACzC,IAAMC,QAAQ,GAAsC,SAA9CA,QAAQA,CAAAC,IAAA;IAAA,IAAyCC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;IAAA,OAAOA,QAAQ,CAACH,MAAM,CAAC;EAAA;EACtF,IAAI;IACCI,MAA6B,CAACC,aAAa,CAAC,IAAIC,mBAAmB,CAACL,QAAQ,CAAC,CAAC;GAClF,CAAC,OAAOM,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,iEAAiE,EAAEA,KAAK,CAAC;;EAE3F,IAAI;IACCH,MAA6B,CAACK,gBAAgB,CAAC,2BAA2B,EAAE,UAAAC,KAAA;MAAA,IAAWC,GAAG,GAAAD,KAAA,CAAXE,MAAM;MAAA,OAClFX,QAAQ,CAACU,GAAG,CAAC;IAAA,EAChB;GACJ,CAAC,OAAOJ,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,+DAA+D,EAAEA,KAAK,CAAC;;AAE7F;AAAC,IAEKD,mBAAoB,0BAAAO,MAAA;EAAAC,SAAA,CAAAR,mBAAA,EAAAO,MAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAV,mBAAA;EAWtB,SAAAA,oBAAYL,QAA2C;IAAA,IAAAgB,KAAA;IAAAC,eAAA,OAAAZ,mBAAA;IACnDW,KAAA,GAAAF,MAAA,CAAAI,IAAA,OAAM,iCAAiC,EAAE;MACrCC,OAAO,EAAE,KAAK;MACdC,UAAU,EAAE,KAAK;MACjBC,QAAQ,EAAE;KACb;IAfLC,2BAAA,CAAAC,GAAA,CAAAC,sBAAA,CAAAR,KAAA;IAgBIS,sBAAA,CAAAD,sBAAA,CAAAR,KAAA,GAAIM,2BAAA,EAAWtB,QAAQ;IAAC,OAAAgB,KAAA;EAC5B;EAACU,YAAA,CAAArB,mBAAA;IAAAsB,GAAA;IAAAC,GAAA,EAfD,SAAAA,IAAA,EAAU;MACN,OAAOC,sBAAA,KAAI,EAAAP,2BAAA,MAAQ;IACvB;EAAC;IAAAK,GAAA;IAAAC,GAAA,EAED,SAAAA,IAAA,EAAQ;MACJ,OAAO,iCAA0C;IACrD;IAWA;EAAA;IAAAD,GAAA;IAAAG,KAAA,EACA,SAAAC,eAAA,EAAc;MACV,MAAM,IAAIC,KAAK,CAAC,iCAAiC,CAAC;IACtD;IAEA;EAAA;IAAAL,GAAA;IAAAG,KAAA,EACA,SAAAG,yBAAA,EAAwB;MACpB,MAAM,IAAID,KAAK,CAAC,2CAA2C,CAAC;IAChE;IAEA;EAAA;IAAAL,GAAA;IAAAG,KAAA,EACA,SAAAI,gBAAA,EAAe;MACX,MAAM,IAAIF,KAAK,CAAC,kCAAkC,CAAC;IACvD;EAAC;EAAA,OAAA3B,mBAAA;AAAA,gBAAA8B,gBAAA,CAjC6BC,KAAK;;AAoCvC;;;;;AAKA,OAAM,SAAUC,yBAAyBA,CAACtC,MAAc;;EACpDD,cAAc,CAACC,MAAM,CAAC;EACtB,IAAI;IACA,EAAAuC,EAAA,GAAEnC,MAAmC,CAACoC,SAAS,EAACC,OAAO,KAAAF,EAAA,CAAPE,OAAO,GAAK,EAAE,GAAEC,IAAI,CAAC,UAAAC,KAAA;MAAA,IAAGxC,QAAQ,GAAAwC,KAAA,CAARxC,QAAQ;MAAA,OAAOA,QAAQ,CAACH,MAAM,CAAC;IAAA,EAAC;GAC3G,CAAC,OAAOO,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,gDAAgD,EAAEA,KAAK,CAAC;;AAE9E"},"metadata":{},"sourceType":"module","externalDependencies":[]}