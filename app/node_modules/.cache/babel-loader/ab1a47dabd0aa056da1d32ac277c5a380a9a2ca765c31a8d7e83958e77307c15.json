{"ast":null,"code":"import React, { useLayoutEffect, useRef } from 'react';\nexport var Collapse = function Collapse(_ref) {\n  var id = _ref.id,\n    children = _ref.children,\n    _ref$expanded = _ref.expanded,\n    expanded = _ref$expanded === void 0 ? false : _ref$expanded;\n  var ref = useRef(null);\n  var instant = useRef(true);\n  var transition = 'height 250ms ease-out';\n  var openCollapse = function openCollapse() {\n    var node = ref.current;\n    if (!node) return;\n    requestAnimationFrame(function () {\n      node.style.height = node.scrollHeight + 'px';\n    });\n  };\n  var closeCollapse = function closeCollapse() {\n    var node = ref.current;\n    if (!node) return;\n    requestAnimationFrame(function () {\n      node.style.height = node.offsetHeight + 'px';\n      node.style.overflow = 'hidden';\n      requestAnimationFrame(function () {\n        node.style.height = '0';\n      });\n    });\n  };\n  useLayoutEffect(function () {\n    if (expanded) {\n      openCollapse();\n    } else {\n      closeCollapse();\n    }\n  }, [expanded]);\n  useLayoutEffect(function () {\n    var node = ref.current;\n    if (!node) return;\n    function handleComplete() {\n      if (!node) return;\n      node.style.overflow = expanded ? 'initial' : 'hidden';\n      if (expanded) {\n        node.style.height = 'auto';\n      }\n    }\n    function handleTransitionEnd(event) {\n      if (node && event.target === node && event.propertyName === 'height') {\n        handleComplete();\n      }\n    }\n    if (instant.current) {\n      handleComplete();\n      instant.current = false;\n    }\n    node.addEventListener('transitionend', handleTransitionEnd);\n    return function () {\n      return node.removeEventListener('transitionend', handleTransitionEnd);\n    };\n  }, [expanded]);\n  return React.createElement(\"div\", {\n    className: \"wallet-adapter-collapse\",\n    id: id,\n    ref: ref,\n    role: \"region\",\n    style: {\n      height: 0,\n      transition: instant.current ? undefined : transition\n    }\n  }, children);\n};","map":{"version":3,"names":["React","useLayoutEffect","useRef","Collapse","_ref","id","children","_ref$expanded","expanded","ref","instant","transition","openCollapse","node","current","requestAnimationFrame","style","height","scrollHeight","closeCollapse","offsetHeight","overflow","handleComplete","handleTransitionEnd","event","target","propertyName","addEventListener","removeEventListener","createElement","className","role","undefined"],"sources":["/Users/wuhuan/gif-portal-starter/node_modules/@solana/wallet-adapter-react-ui/src/Collapse.tsx"],"sourcesContent":["import type { FC, PropsWithChildren } from 'react';\nimport React, { useLayoutEffect, useRef } from 'react';\n\nexport type CollapseProps = PropsWithChildren<{\n    expanded: boolean;\n    id: string;\n}>;\n\nexport const Collapse: FC<CollapseProps> = ({ id, children, expanded = false }) => {\n    const ref = useRef<HTMLDivElement>(null);\n    const instant = useRef(true);\n    const transition = 'height 250ms ease-out';\n\n    const openCollapse = () => {\n        const node = ref.current;\n        if (!node) return;\n\n        requestAnimationFrame(() => {\n            node.style.height = node.scrollHeight + 'px';\n        });\n    };\n\n    const closeCollapse = () => {\n        const node = ref.current;\n        if (!node) return;\n\n        requestAnimationFrame(() => {\n            node.style.height = node.offsetHeight + 'px';\n            node.style.overflow = 'hidden';\n            requestAnimationFrame(() => {\n                node.style.height = '0';\n            });\n        });\n    };\n\n    useLayoutEffect(() => {\n        if (expanded) {\n            openCollapse();\n        } else {\n            closeCollapse();\n        }\n    }, [expanded]);\n\n    useLayoutEffect(() => {\n        const node = ref.current;\n        if (!node) return;\n\n        function handleComplete() {\n            if (!node) return;\n\n            node.style.overflow = expanded ? 'initial' : 'hidden';\n            if (expanded) {\n                node.style.height = 'auto';\n            }\n        }\n\n        function handleTransitionEnd(event: TransitionEvent) {\n            if (node && event.target === node && event.propertyName === 'height') {\n                handleComplete();\n            }\n        }\n\n        if (instant.current) {\n            handleComplete();\n            instant.current = false;\n        }\n\n        node.addEventListener('transitionend', handleTransitionEnd);\n        return () => node.removeEventListener('transitionend', handleTransitionEnd);\n    }, [expanded]);\n\n    return (\n        <div\n            className=\"wallet-adapter-collapse\"\n            id={id}\n            ref={ref}\n            role=\"region\"\n            style={{ height: 0, transition: instant.current ? undefined : transition }}\n        >\n            {children}\n        </div>\n    );\n};\n"],"mappings":"AACA,OAAOA,KAAK,IAAIC,eAAe,EAAEC,MAAM,QAAQ,OAAO;AAOtD,OAAO,IAAMC,QAAQ,GAAsB,SAA9BA,QAAQA,CAAAC,IAAA,EAA6D;EAAA,IAApCC,EAAE,GAAAD,IAAA,CAAFC,EAAE;IAAEC,QAAQ,GAAAF,IAAA,CAARE,QAAQ;IAAAC,aAAA,GAAAH,IAAA,CAAEI,QAAQ;IAARA,QAAQ,GAAAD,aAAA,cAAG,KAAK,GAAAA,aAAA;EACxE,IAAME,GAAG,GAAGP,MAAM,CAAiB,IAAI,CAAC;EACxC,IAAMQ,OAAO,GAAGR,MAAM,CAAC,IAAI,CAAC;EAC5B,IAAMS,UAAU,GAAG,uBAAuB;EAE1C,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAA,EAAQ;IACtB,IAAMC,IAAI,GAAGJ,GAAG,CAACK,OAAO;IACxB,IAAI,CAACD,IAAI,EAAE;IAEXE,qBAAqB,CAAC,YAAK;MACvBF,IAAI,CAACG,KAAK,CAACC,MAAM,GAAGJ,IAAI,CAACK,YAAY,GAAG,IAAI;IAChD,CAAC,CAAC;EACN,CAAC;EAED,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAA,EAAQ;IACvB,IAAMN,IAAI,GAAGJ,GAAG,CAACK,OAAO;IACxB,IAAI,CAACD,IAAI,EAAE;IAEXE,qBAAqB,CAAC,YAAK;MACvBF,IAAI,CAACG,KAAK,CAACC,MAAM,GAAGJ,IAAI,CAACO,YAAY,GAAG,IAAI;MAC5CP,IAAI,CAACG,KAAK,CAACK,QAAQ,GAAG,QAAQ;MAC9BN,qBAAqB,CAAC,YAAK;QACvBF,IAAI,CAACG,KAAK,CAACC,MAAM,GAAG,GAAG;MAC3B,CAAC,CAAC;IACN,CAAC,CAAC;EACN,CAAC;EAEDhB,eAAe,CAAC,YAAK;IACjB,IAAIO,QAAQ,EAAE;MACVI,YAAY,EAAE;KACjB,MAAM;MACHO,aAAa,EAAE;;EAEvB,CAAC,EAAE,CAACX,QAAQ,CAAC,CAAC;EAEdP,eAAe,CAAC,YAAK;IACjB,IAAMY,IAAI,GAAGJ,GAAG,CAACK,OAAO;IACxB,IAAI,CAACD,IAAI,EAAE;IAEX,SAASS,cAAcA,CAAA;MACnB,IAAI,CAACT,IAAI,EAAE;MAEXA,IAAI,CAACG,KAAK,CAACK,QAAQ,GAAGb,QAAQ,GAAG,SAAS,GAAG,QAAQ;MACrD,IAAIA,QAAQ,EAAE;QACVK,IAAI,CAACG,KAAK,CAACC,MAAM,GAAG,MAAM;;IAElC;IAEA,SAASM,mBAAmBA,CAACC,KAAsB;MAC/C,IAAIX,IAAI,IAAIW,KAAK,CAACC,MAAM,KAAKZ,IAAI,IAAIW,KAAK,CAACE,YAAY,KAAK,QAAQ,EAAE;QAClEJ,cAAc,EAAE;;IAExB;IAEA,IAAIZ,OAAO,CAACI,OAAO,EAAE;MACjBQ,cAAc,EAAE;MAChBZ,OAAO,CAACI,OAAO,GAAG,KAAK;;IAG3BD,IAAI,CAACc,gBAAgB,CAAC,eAAe,EAAEJ,mBAAmB,CAAC;IAC3D,OAAO;MAAA,OAAMV,IAAI,CAACe,mBAAmB,CAAC,eAAe,EAAEL,mBAAmB,CAAC;IAAA;EAC/E,CAAC,EAAE,CAACf,QAAQ,CAAC,CAAC;EAEd,OACIR,KAAA,CAAA6B,aAAA;IACIC,SAAS,EAAC,yBAAyB;IACnCzB,EAAE,EAAEA,EAAE;IACNI,GAAG,EAAEA,GAAG;IACRsB,IAAI,EAAC,QAAQ;IACbf,KAAK,EAAE;MAAEC,MAAM,EAAE,CAAC;MAAEN,UAAU,EAAED,OAAO,CAACI,OAAO,GAAGkB,SAAS,GAAGrB;IAAU;EAAE,GAEzEL,QAAQ,CACP;AAEd,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}