{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getVersion = exports.getDeviceId = exports.isHttpUrl = void 0;\nconst uuid_1 = require(\"uuid\");\nconst HTTP_REGEX = \"^https?:\";\nfunction getUrlProtocol(url) {\n  const matches = url.match(new RegExp(/^\\w+:/, \"gi\"));\n  if (!matches || !matches.length) return;\n  return matches[0];\n}\nfunction matchRegexProtocol(url, regex) {\n  const protocol = getUrlProtocol(url);\n  if (typeof protocol === \"undefined\") return false;\n  return new RegExp(regex).test(protocol);\n}\nfunction isHttpUrl(url) {\n  return matchRegexProtocol(url, HTTP_REGEX);\n}\nexports.isHttpUrl = isHttpUrl;\nfunction getDeviceId() {\n  const storeKey = \"pn_device_id\";\n  let deviceId = window.localStorage.getItem(storeKey);\n  if (!deviceId) {\n    deviceId = (0, uuid_1.v4)();\n    window.localStorage.setItem(storeKey, deviceId);\n  }\n  return deviceId;\n}\nexports.getDeviceId = getDeviceId;\nfunction getVersion() {\n  return \"web_0.4.0\";\n}\nexports.getVersion = getVersion;","map":{"version":3,"names":["uuid_1","require","HTTP_REGEX","getUrlProtocol","url","matches","match","RegExp","length","matchRegexProtocol","regex","protocol","test","isHttpUrl","exports","getDeviceId","storeKey","deviceId","window","localStorage","getItem","v4","setItem","getVersion"],"sources":["../src/utils.ts"],"sourcesContent":[null],"mappings":";;;;;;AAAA,MAAAA,MAAA,GAAAC,OAAA;AAEA,MAAMC,UAAU,GAAG,UAAU;AAE7B,SAASC,cAAcA,CAACC,GAAW;EACjC,MAAMC,OAAO,GAAGD,GAAG,CAACE,KAAK,CAAC,IAAIC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;EACpD,IAAI,CAACF,OAAO,IAAI,CAACA,OAAO,CAACG,MAAM,EAAE;EACjC,OAAOH,OAAO,CAAC,CAAC,CAAC;AACnB;AAEA,SAASI,kBAAkBA,CAACL,GAAW,EAAEM,KAAa;EACpD,MAAMC,QAAQ,GAAGR,cAAc,CAACC,GAAG,CAAC;EACpC,IAAI,OAAOO,QAAQ,KAAK,WAAW,EAAE,OAAO,KAAK;EACjD,OAAO,IAAIJ,MAAM,CAACG,KAAK,CAAC,CAACE,IAAI,CAACD,QAAQ,CAAC;AACzC;AAEA,SAAgBE,SAASA,CAACT,GAAW;EACnC,OAAOK,kBAAkB,CAACL,GAAG,EAAEF,UAAU,CAAC;AAC5C;AAFAY,OAAA,CAAAD,SAAA,GAAAA,SAAA;AAIA,SAAgBE,WAAWA,CAAA;EACzB,MAAMC,QAAQ,GAAG,cAAc;EAC/B,IAAIC,QAAQ,GAAGC,MAAM,CAACC,YAAY,CAACC,OAAO,CAACJ,QAAQ,CAAC;EACpD,IAAI,CAACC,QAAQ,EAAE;IACbA,QAAQ,GAAG,IAAAjB,MAAA,CAAAqB,EAAM,GAAE;IACnBH,MAAM,CAACC,YAAY,CAACG,OAAO,CAACN,QAAQ,EAAEC,QAAQ,CAAC;;EAEjD,OAAOA,QAAQ;AACjB;AARAH,OAAA,CAAAC,WAAA,GAAAA,WAAA;AAUA,SAAgBQ,UAAUA,CAAA;EACxB,OAAO,WAAW;AACpB;AAFAT,OAAA,CAAAS,UAAA,GAAAA,UAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}