{"ast":null,"code":"import { useEffect, useRef, useState } from 'react';\nexport function useLocalStorage(key, defaultState) {\n  var state = useState(function () {\n    try {\n      var _value = localStorage.getItem(key);\n      if (_value) return JSON.parse(_value);\n    } catch (error) {\n      if (typeof window !== 'undefined') {\n        console.error(error);\n      }\n    }\n    return defaultState;\n  });\n  var value = state[0];\n  var isFirstRenderRef = useRef(true);\n  useEffect(function () {\n    if (isFirstRenderRef.current) {\n      isFirstRenderRef.current = false;\n      return;\n    }\n    try {\n      if (value === null) {\n        localStorage.removeItem(key);\n      } else {\n        localStorage.setItem(key, JSON.stringify(value));\n      }\n    } catch (error) {\n      if (typeof window !== 'undefined') {\n        console.error(error);\n      }\n    }\n  }, [value, key]);\n  return state;\n}","map":{"version":3,"names":["useEffect","useRef","useState","useLocalStorage","key","defaultState","state","value","localStorage","getItem","JSON","parse","error","window","console","isFirstRenderRef","current","removeItem","setItem","stringify"],"sources":["/Users/wuhuan/gif-portal-starter/node_modules/@solana/wallet-adapter-react/src/useLocalStorage.ts"],"sourcesContent":["import { type Dispatch, type SetStateAction, useEffect, useRef, useState } from 'react';\n\nexport function useLocalStorage<T>(key: string, defaultState: T): [T, Dispatch<SetStateAction<T>>] {\n    const state = useState<T>(() => {\n        try {\n            const value = localStorage.getItem(key);\n            if (value) return JSON.parse(value) as T;\n        } catch (error: any) {\n            if (typeof window !== 'undefined') {\n                console.error(error);\n            }\n        }\n\n        return defaultState;\n    });\n    const value = state[0];\n\n    const isFirstRenderRef = useRef(true);\n    useEffect(() => {\n        if (isFirstRenderRef.current) {\n            isFirstRenderRef.current = false;\n            return;\n        }\n        try {\n            if (value === null) {\n                localStorage.removeItem(key);\n            } else {\n                localStorage.setItem(key, JSON.stringify(value));\n            }\n        } catch (error: any) {\n            if (typeof window !== 'undefined') {\n                console.error(error);\n            }\n        }\n    }, [value, key]);\n\n    return state;\n}\n"],"mappings":"AAAA,SAA6CA,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAEvF,OAAM,SAAUC,eAAeA,CAAIC,GAAW,EAAEC,YAAe;EAC3D,IAAMC,KAAK,GAAGJ,QAAQ,CAAI,YAAK;IAC3B,IAAI;MACA,IAAMK,MAAK,GAAGC,YAAY,CAACC,OAAO,CAACL,GAAG,CAAC;MACvC,IAAIG,MAAK,EAAE,OAAOG,IAAI,CAACC,KAAK,CAACJ,MAAK,CAAM;KAC3C,CAAC,OAAOK,KAAU,EAAE;MACjB,IAAI,OAAOC,MAAM,KAAK,WAAW,EAAE;QAC/BC,OAAO,CAACF,KAAK,CAACA,KAAK,CAAC;;;IAI5B,OAAOP,YAAY;EACvB,CAAC,CAAC;EACF,IAAME,KAAK,GAAGD,KAAK,CAAC,CAAC,CAAC;EAEtB,IAAMS,gBAAgB,GAAGd,MAAM,CAAC,IAAI,CAAC;EACrCD,SAAS,CAAC,YAAK;IACX,IAAIe,gBAAgB,CAACC,OAAO,EAAE;MAC1BD,gBAAgB,CAACC,OAAO,GAAG,KAAK;MAChC;;IAEJ,IAAI;MACA,IAAIT,KAAK,KAAK,IAAI,EAAE;QAChBC,YAAY,CAACS,UAAU,CAACb,GAAG,CAAC;OAC/B,MAAM;QACHI,YAAY,CAACU,OAAO,CAACd,GAAG,EAAEM,IAAI,CAACS,SAAS,CAACZ,KAAK,CAAC,CAAC;;KAEvD,CAAC,OAAOK,KAAU,EAAE;MACjB,IAAI,OAAOC,MAAM,KAAK,WAAW,EAAE;QAC/BC,OAAO,CAACF,KAAK,CAACA,KAAK,CAAC;;;EAGhC,CAAC,EAAE,CAACL,KAAK,EAAEH,GAAG,CAAC,CAAC;EAEhB,OAAOE,KAAK;AAChB"},"metadata":{},"sourceType":"module","externalDependencies":[]}