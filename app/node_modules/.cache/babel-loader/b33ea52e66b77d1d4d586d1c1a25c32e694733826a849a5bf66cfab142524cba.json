{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.u64 = exports.COptionLayout = exports.coption = exports.publicKey = exports.bool = exports.uint64 = void 0;\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst BufferLayout = __importStar(require(\"buffer-layout\"));\nconst buffer_layout_1 = require(\"buffer-layout\");\nconst web3_js_1 = require(\"@solana/web3.js\");\nfunction uint64(property) {\n  return new WrappedLayout(BufferLayout.blob(8), b => u64.fromBuffer(b), n => n.toBuffer(), property);\n}\nexports.uint64 = uint64;\nfunction bool(property) {\n  return new WrappedLayout(BufferLayout.u8(), decodeBool, encodeBool, property);\n}\nexports.bool = bool;\nfunction publicKey(property) {\n  return new WrappedLayout(BufferLayout.blob(32), b => new web3_js_1.PublicKey(b), key => key.toBuffer(), property);\n}\nexports.publicKey = publicKey;\nfunction coption(layout, property) {\n  return new COptionLayout(layout, property);\n}\nexports.coption = coption;\nclass WrappedLayout extends buffer_layout_1.Layout {\n  constructor(layout, decoder, encoder, property) {\n    super(layout.span, property);\n    this.layout = layout;\n    this.decoder = decoder;\n    this.encoder = encoder;\n  }\n  decode(b, offset) {\n    return this.decoder(this.layout.decode(b, offset));\n  }\n  encode(src, b, offset) {\n    return this.layout.encode(this.encoder(src), b, offset);\n  }\n  getSpan(b, offset) {\n    return this.layout.getSpan(b, offset);\n  }\n}\nclass COptionLayout extends buffer_layout_1.Layout {\n  constructor(layout, property) {\n    super(-1, property);\n    this.layout = layout;\n    this.discriminator = BufferLayout.u32();\n  }\n  encode(src, b, offset = 0) {\n    if (src === null || src === undefined) {\n      return this.layout.span + this.discriminator.encode(0, b, offset);\n    }\n    this.discriminator.encode(1, b, offset);\n    return this.layout.encode(src, b, offset + 4) + 4;\n  }\n  decode(b, offset = 0) {\n    const discriminator = this.discriminator.decode(b, offset);\n    if (discriminator === 0) {\n      return null;\n    } else if (discriminator === 1) {\n      return this.layout.decode(b, offset + 4);\n    }\n    throw new Error(\"Invalid coption \" + this.layout.property);\n  }\n  getSpan(b, offset = 0) {\n    return this.layout.getSpan(b, offset + 4) + 4;\n  }\n}\nexports.COptionLayout = COptionLayout;\nfunction decodeBool(value) {\n  if (value === 0) {\n    return false;\n  } else if (value === 1) {\n    return true;\n  }\n  throw new Error(\"Invalid bool: \" + value);\n}\nfunction encodeBool(value) {\n  return value ? 1 : 0;\n}\nclass u64 extends bn_js_1.default {\n  /**\n   * Convert to Buffer representation\n   */\n  toBuffer() {\n    const a = super.toArray().reverse();\n    const b = Buffer.from(a);\n    if (b.length === 8) {\n      return b;\n    }\n    if (b.length >= 8) {\n      throw new Error(\"u64 too large\");\n    }\n    const zeroPad = Buffer.alloc(8);\n    b.copy(zeroPad);\n    return zeroPad;\n  }\n  /**\n   * Construct a u64 from Buffer representation\n   */\n  static fromBuffer(buffer) {\n    if (buffer.length !== 8) {\n      throw new Error(`Invalid buffer length: ${buffer.length}`);\n    }\n    return new u64([...buffer].reverse().map(i => `00${i.toString(16)}`.slice(-2)).join(\"\"), 16);\n  }\n}\nexports.u64 = u64;","map":{"version":3,"names":["bn_js_1","__importDefault","require","BufferLayout","__importStar","buffer_layout_1","web3_js_1","uint64","property","WrappedLayout","blob","b","u64","fromBuffer","n","toBuffer","exports","bool","u8","decodeBool","encodeBool","publicKey","PublicKey","key","coption","layout","COptionLayout","Layout","constructor","decoder","encoder","span","decode","offset","encode","src","getSpan","discriminator","u32","undefined","Error","value","default","a","toArray","reverse","Buffer","from","length","zeroPad","alloc","copy","buffer","map","i","toString","slice","join"],"sources":["/Users/wuhuan/gif-portal-starter/node_modules/@project-serum/anchor/src/coder/spl-token/buffer-layout.ts"],"sourcesContent":["import BN from \"bn.js\";\nimport * as BufferLayout from \"buffer-layout\";\nimport { Layout } from \"buffer-layout\";\nimport { PublicKey } from \"@solana/web3.js\";\n\nexport function uint64(property?: string): Layout<u64 | null> {\n  return new WrappedLayout(\n    BufferLayout.blob(8),\n    (b: Buffer) => u64.fromBuffer(b),\n    (n: u64) => n.toBuffer(),\n    property\n  );\n}\n\nexport function bool(property?: string): Layout<boolean> {\n  return new WrappedLayout(BufferLayout.u8(), decodeBool, encodeBool, property);\n}\n\nexport function publicKey(property?: string): Layout<PublicKey> {\n  return new WrappedLayout(\n    BufferLayout.blob(32),\n    (b: Buffer) => new PublicKey(b),\n    (key: PublicKey) => key.toBuffer(),\n    property\n  );\n}\n\nexport function coption<T>(\n  layout: Layout<T>,\n  property?: string\n): Layout<T | null> {\n  return new COptionLayout<T>(layout, property);\n}\n\nclass WrappedLayout<T, U> extends Layout<U> {\n  layout: Layout<T>;\n  decoder: (data: T) => U;\n  encoder: (src: U) => T;\n\n  constructor(\n    layout: Layout<T>,\n    decoder: (data: T) => U,\n    encoder: (src: U) => T,\n    property?: string\n  ) {\n    super(layout.span, property);\n    this.layout = layout;\n    this.decoder = decoder;\n    this.encoder = encoder;\n  }\n\n  decode(b: Buffer, offset?: number): U {\n    return this.decoder(this.layout.decode(b, offset));\n  }\n\n  encode(src: U, b: Buffer, offset?: number): number {\n    return this.layout.encode(this.encoder(src), b, offset);\n  }\n\n  getSpan(b: Buffer, offset?: number): number {\n    return this.layout.getSpan(b, offset);\n  }\n}\n\nexport class COptionLayout<T> extends Layout<T | null> {\n  layout: Layout<T>;\n  discriminator: Layout<number>;\n\n  constructor(layout: Layout<T>, property?: string) {\n    super(-1, property);\n    this.layout = layout;\n    this.discriminator = BufferLayout.u32();\n  }\n\n  encode(src: T | null, b: Buffer, offset = 0): number {\n    if (src === null || src === undefined) {\n      return this.layout.span + this.discriminator.encode(0, b, offset);\n    }\n    this.discriminator.encode(1, b, offset);\n    return this.layout.encode(src, b, offset + 4) + 4;\n  }\n\n  decode(b: Buffer, offset = 0): T | null {\n    const discriminator = this.discriminator.decode(b, offset);\n    if (discriminator === 0) {\n      return null;\n    } else if (discriminator === 1) {\n      return this.layout.decode(b, offset + 4);\n    }\n    throw new Error(\"Invalid coption \" + this.layout.property);\n  }\n\n  getSpan(b: Buffer, offset = 0): number {\n    return this.layout.getSpan(b, offset + 4) + 4;\n  }\n}\n\nfunction decodeBool(value: number): boolean {\n  if (value === 0) {\n    return false;\n  } else if (value === 1) {\n    return true;\n  }\n  throw new Error(\"Invalid bool: \" + value);\n}\n\nfunction encodeBool(value: boolean): number {\n  return value ? 1 : 0;\n}\n\nexport class u64 extends BN {\n  /**\n   * Convert to Buffer representation\n   */\n  toBuffer(): Buffer {\n    const a = super.toArray().reverse();\n    const b = Buffer.from(a);\n    if (b.length === 8) {\n      return b;\n    }\n    if (b.length >= 8) {\n      throw new Error(\"u64 too large\");\n    }\n\n    const zeroPad = Buffer.alloc(8);\n    b.copy(zeroPad);\n    return zeroPad;\n  }\n\n  /**\n   * Construct a u64 from Buffer representation\n   */\n  static fromBuffer(buffer: Buffer): u64 {\n    if (buffer.length !== 8) {\n      throw new Error(`Invalid buffer length: ${buffer.length}`);\n    }\n    return new u64(\n      [...buffer]\n        .reverse()\n        .map((i) => `00${i.toString(16)}`.slice(-2))\n        .join(\"\"),\n      16\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}