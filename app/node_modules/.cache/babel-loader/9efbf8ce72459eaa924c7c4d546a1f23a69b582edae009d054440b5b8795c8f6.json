{"ast":null,"code":"import { checkParams, methodEndsWith } from \"./misc\";\nexport function isSubscribeRequest(request) {\n  return isSubscribeMethod(request.method) && isSubscribeParams(request.params);\n}\nexport function isSubscribeMethod(method) {\n  return methodEndsWith(method, \"subscribe\");\n}\nexport function isSubscribeParams(params) {\n  const required = [\"topic\"];\n  const optional = [];\n  return checkParams(params, required, optional);\n}\nexport function isPublishRequest(request) {\n  return isPublishMethod(request.method) && isPublishParams(request.params);\n}\nexport function isPublishMethod(method) {\n  return methodEndsWith(method, \"publish\");\n}\nexport function isPublishParams(params) {\n  const required = [\"message\", \"topic\", \"ttl\"];\n  const optional = [\"prompt\", \"tag\"];\n  return checkParams(params, required, optional);\n}\nexport function isUnsubscribeRequest(request) {\n  return isUnsubscribeMethod(request.method) && isUnsubscribeParams(request.params);\n}\nexport function isUnsubscribeMethod(method) {\n  return methodEndsWith(method, \"unsubscribe\");\n}\nexport function isUnsubscribeParams(params) {\n  const required = [\"id\", \"topic\"];\n  const optional = [];\n  return checkParams(params, required, optional);\n}\nexport function isSubscriptionRequest(request) {\n  return isSubscriptionMethod(request.method) && isSubscriptionParams(request.params);\n}\nexport function isSubscriptionMethod(method) {\n  return methodEndsWith(method, \"subscription\");\n}\nexport function isSubscriptionParams(params) {\n  const required = [\"id\", \"data\"];\n  const optional = [];\n  return checkParams(params, required, optional);\n}","map":{"version":3,"names":["checkParams","methodEndsWith","isSubscribeRequest","request","isSubscribeMethod","method","isSubscribeParams","params","required","optional","isPublishRequest","isPublishMethod","isPublishParams","isUnsubscribeRequest","isUnsubscribeMethod","isUnsubscribeParams","isSubscriptionRequest","isSubscriptionMethod","isSubscriptionParams"],"sources":["../../src/validators.ts"],"sourcesContent":[null],"mappings":"AAEA,SAASA,WAAW,EAAEC,cAAc,QAAQ,QAAQ;AAKpD,OAAM,SAAUC,kBAAkBA,CAChCC,OAAuB;EAEvB,OAAOC,iBAAiB,CAACD,OAAO,CAACE,MAAM,CAAC,IAAIC,iBAAiB,CAACH,OAAO,CAACI,MAAM,CAAC;AAC/E;AAEA,OAAM,SAAUH,iBAAiBA,CAACC,MAAc;EAC9C,OAAOJ,cAAc,CAACI,MAAM,EAAE,WAAW,CAAC;AAC5C;AAEA,OAAM,SAAUC,iBAAiBA,CAC/BC,MAAW;EAEX,MAAMC,QAAQ,GAAG,CAAC,OAAO,CAAC;EAC1B,MAAMC,QAAQ,GAAG,EAAE;EACnB,OAAOT,WAAW,CAACO,MAAM,EAAEC,QAAQ,EAAEC,QAAQ,CAAC;AAChD;AAIA,OAAM,SAAUC,gBAAgBA,CAC9BP,OAAuB;EAEvB,OAAOQ,eAAe,CAACR,OAAO,CAACE,MAAM,CAAC,IAAIO,eAAe,CAACT,OAAO,CAACI,MAAM,CAAC;AAC3E;AAEA,OAAM,SAAUI,eAAeA,CAACN,MAAc;EAC5C,OAAOJ,cAAc,CAACI,MAAM,EAAE,SAAS,CAAC;AAC1C;AAEA,OAAM,SAAUO,eAAeA,CAC7BL,MAAW;EAEX,MAAMC,QAAQ,GAAG,CAAC,SAAS,EAAE,OAAO,EAAE,KAAK,CAAC;EAC5C,MAAMC,QAAQ,GAAG,CAAC,QAAQ,EAAE,KAAK,CAAC;EAClC,OAAOT,WAAW,CAACO,MAAM,EAAEC,QAAQ,EAAEC,QAAQ,CAAC;AAChD;AAIA,OAAM,SAAUI,oBAAoBA,CAClCV,OAAuB;EAEvB,OACEW,mBAAmB,CAACX,OAAO,CAACE,MAAM,CAAC,IAAIU,mBAAmB,CAACZ,OAAO,CAACI,MAAM,CAAC;AAE9E;AAEA,OAAM,SAAUO,mBAAmBA,CAACT,MAAc;EAChD,OAAOJ,cAAc,CAACI,MAAM,EAAE,aAAa,CAAC;AAC9C;AAEA,OAAM,SAAUU,mBAAmBA,CACjCR,MAAW;EAEX,MAAMC,QAAQ,GAAG,CAAC,IAAI,EAAE,OAAO,CAAC;EAChC,MAAMC,QAAQ,GAAG,EAAE;EACnB,OAAOT,WAAW,CAACO,MAAM,EAAEC,QAAQ,EAAEC,QAAQ,CAAC;AAChD;AAIA,OAAM,SAAUO,qBAAqBA,CACnCb,OAAuB;EAEvB,OACEc,oBAAoB,CAACd,OAAO,CAACE,MAAM,CAAC,IAAIa,oBAAoB,CAACf,OAAO,CAACI,MAAM,CAAC;AAEhF;AAEA,OAAM,SAAUU,oBAAoBA,CAACZ,MAAc;EACjD,OAAOJ,cAAc,CAACI,MAAM,EAAE,cAAc,CAAC;AAC/C;AAEA,OAAM,SAAUa,oBAAoBA,CAClCX,MAAW;EAEX,MAAMC,QAAQ,GAAG,CAAC,IAAI,EAAE,MAAM,CAAC;EAC/B,MAAMC,QAAQ,GAAG,EAAE;EACnB,OAAOT,WAAW,CAACO,MAAM,EAAEC,QAAQ,EAAEC,QAAQ,CAAC;AAChD"},"metadata":{},"sourceType":"module","externalDependencies":[]}